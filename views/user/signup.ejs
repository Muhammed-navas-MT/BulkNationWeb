<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<script src="https://kit.fontawesome.com/64d58efce2.js" crossorigin="anonymous"></script>
	<link rel="stylesheet" href="css/signup.css" />
	<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet">
	<title>BulkNation</title>
	<style>
		/* Container for the Forget Password Link */
.forget-password-container {
    margin-top: 10px;
    text-align: center;
}

/* Styling the Forget Password Link */
.forget-password-link {
    text-decoration: none; /* Remove underline */
    color: #007BFF; /* Blue link color */
    font-size: 14px;
    font-weight: bold;
    transition: color 0.3s ease, text-shadow 0.3s ease;
}

/* Hover Effect for Forget Password Link */
.forget-password-link:hover {
    color: #0056b3; /* Darker blue on hover */
    text-shadow: 0 0 8px rgba(0, 123, 255, 0.6); /* Subtle glowing effect */
}

	</style>
</head>

<body>
	<div class="container">
		<div class="forms-container">
			<div class="signin-signup">
				<form action="/login" method="post" class="sign-in-form">
					<h2 class="title">Sign in</h2>
					<% if (message && message.length > 0) { %>
						<div id="msg" class="alert alert-danger text-center">
							<%= message %>
						</div>
					<% } %>
					<div class="input-field">
						<i class="fas fa-envelope"></i>
						<input type="email" name="email" id="name" placeholder="Email" required/>
					</div>
					<div class="input-field">
						<i class="fas fa-lock"></i>
						<input type="password" name="password" id="pass" placeholder="Password" required/>
					</div>
					<input type="submit" value="Login" class="btn solid" />
					<div class="forget-password-container">
						<a href="/forget-password" class="forget-password-link">Forget Password</a>
					</div>
					
					<p class="social-text">Or Sign up with google</p>		
					<div class="social-media">
						<a href="/auth/google" class="social-icon">
							<i class="fab fa-google"></i>
						</a>
					</div>
				</form>
				<form action="/signup" class="sign-up-form" method="post" id="signform">
					<h2 class="title">Sign up</h2>	
					<% if (msg && msg.length > 0) { %>
						<div id="msg" class="alert alert-danger text-center">
							<%= msg %>
						</div>
					<% } %>
					<div id="error1" class="error"></div>
					<div class="input-field">
						<i class="fas fa-user"></i>
						<input name="username" type="text"  id="username" placeholder="Username" required />
					</div>
					<div id="error2" class="error"></div>
					<div class="input-field">
						<i class="fas fa-envelope"></i>
						<input name="email" type="email"  id="email" placeholder="Email" required />
					</div>
					<div id="error3" class="error"></div>
					<div class="input-field">
						<i class="fas fa-phone"></i>
						<input  name="phone" type="number" id="phone" placeholder="phone" required />
					</div>
					<div id="error4" class="error"></div>
					<div class="input-field">
						<i class="fas fa-lock"></i>
						<input name="password" type="password"  id="password" placeholder="Password" required />
					</div>
					<div id="error5" class="error"></div>
					<div class="input-field">
						<i class="fas fa-lock"></i>
						<input name="cpassword" type="password"  id="cpassword" placeholder="confirm password" required/>
					</div>
					<button type="submit" class="btn">Sign up</button>
					<p class="social-text">Or Sign up with google</p>
					<div class="social-media">
						<a href="/auth/google" class="social-icon">
							<i class="fab fa-google"></i>
						</a>
					</div>
				</form>
			</div>
		</div>

		<div class="panels-container">
			<div class="panel left-panel">
				<div class="content">
					<h3>New here?</h3>
					<p>Lorem ipsum, dolor sit amet consectetur adipisicing elit. Debitis, ex ratione. Aliquid!</p>
					<button class="btn transparent" id="sign-up-btn">Sign up</button>
				</div>
				<img src="https://i.ibb.co/6HXL6q1/Privacy-policy-rafiki.png" class="image" alt="" />
			</div>
			<div class="panel right-panel">
				<div class="content">
					<h3>One of us?</h3>
					<p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Nostrum laboriosam ad deleniti.</p>
					<button class="btn transparent" id="sign-in-btn">Sign in</button>
				</div>
				<img src="https://i.ibb.co/nP8H853/Mobile-login-rafiki.png" class="image" alt="" />
			</div>
		</div>
	</div>

	<script src="js/signup.js"></script>
</body>
</html>

<script>
	const nameid = document.getElementById("username");
	const emailid = document.getElementById("email");
	const phoneid = document.getElementById("phone");
	const passwordid = document.getElementById("password");
	const cpasswordid = document.getElementById("cpassword");

	const error1 = document.getElementById("error1");
	const error2 = document.getElementById("error2");
	const error3 = document.getElementById("error3");
	const error4 = document.getElementById("error4");
	const error5 = document.getElementById("error5");

	const signform = document.getElementById("signform");

	function namevalidate() {
		const nameVal = nameid.value;
		const namePattern = /^[A-Za-z\s]+$/;

		if (nameVal.trim() === "") {
			error1.style.display = "block";
			error1.innerHTML = "Please enter a valid name";
		} else if (!namePattern.test(nameVal)) {
			error1.style.display = "block";
			error1.innerHTML = "Name can only contain alphabet and spaces";
		} else {
			error1.style.display = "none";
			error1.innerHTML = "";
		}
	}

	function emailvalidate() {
		const emailVal = emailid.value;
		const emailPattern = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;

		if (!emailPattern.test(emailVal)) {
			error2.style.display = "block";
			error2.innerHTML = "Invalid Email Format";
		} else {
			error2.style.display = "none";
			error2.innerHTML = "";
		}
	}

	function phonevalidate() {
		const phoneVal = phoneid.value;

		if (phoneVal.trim() === ""){
			error3.style.display = "block";
			error3.innerHTML = "Enter valid phone number";
		} else if (phoneVal.length !== 10) {
			error3.style.display = "block";
			error3.innerHTML = "Phone number should be 10 digits";
		} else {
			error3.style.display = "none";
			error3.innerHTML = "";
		}
	}

	function passwordvalidate() {
		const passVal = passwordid.value;
		const cpassVal = cpasswordid.value;
		const alpha = /[a-zA-Z]/;
		const digit = /\d/;

		if (passVal.length < 8) {
			error4.style.display = "block";
			error4.innerHTML = "Password should contain at least 8 characters";
		} else if (!alpha.test(passVal) || !digit.test(passVal)) {
			error4.style.display = "block";
			error4.innerHTML = "Password should contain both letters and numbers";
		} else {
			error4.style.display = "none";
			error4.innerHTML = "";
		}

		if (passVal !== cpassVal) {
			error5.style.display = "block";
			error5.innerHTML = "Passwords do not match";
		} else {
			error5.style.display = "none";
			error5.innerHTML = "";
		}
	}

	document.addEventListener("DOMContentLoaded", function () {
		signform.addEventListener("submit", (e) => {
			namevalidate();
			emailvalidate();
			phonevalidate();
			passwordvalidate();

			if (error1.innerHTML || error2.innerHTML || error3.innerHTML || error4.innerHTML || error5.innerHTML) {
				e.preventDefault();
			}
		});
	});
</script>
